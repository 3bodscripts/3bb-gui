-- 333 Hub - Full GUI with Tabs & Smooth Draggable 333 Square
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "333Hub"
ScreenGui.Parent = game.CoreGui

-- Main GUI frame
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 400, 0, 320)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -160)
MainFrame.BackgroundColor3 = Color3.fromRGB(255,255,255)
MainFrame.BackgroundTransparency = 0.7
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true -- PC drag
MainFrame.Parent = ScreenGui

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 15)
UICorner.Parent = MainFrame

-- Title
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1,0,0,50)
Title.Position = UDim2.new(0,0,0,0)
Title.BackgroundTransparency = 1
Title.Text = "333 Hub"
Title.Font = Enum.Font.Highway
Title.TextSize = 28
Title.TextColor3 = Color3.fromRGB(200,100,255)
Title.Parent = MainFrame

-- Tabs container
local TabsFrame = Instance.new("Frame")
TabsFrame.Size = UDim2.new(1,-20,0,40)
TabsFrame.Position = UDim2.new(0,10,0,50)
TabsFrame.BackgroundTransparency = 1
TabsFrame.Parent = MainFrame

-- Line under tabs
local TabLine = Instance.new("Frame")
TabLine.Size = UDim2.new(1,0,0,2)
TabLine.Position = UDim2.new(0,0,0,40)
TabLine.BackgroundColor3 = Color3.fromRGB(200,100,255)
TabLine.BorderSizePixel = 0
TabLine.Parent = TabsFrame

-- Window container
local WindowsFrame = Instance.new("Frame")
WindowsFrame.Size = UDim2.new(1,-20,1,-100)
WindowsFrame.Position = UDim2.new(0,10,0,90)
WindowsFrame.BackgroundTransparency = 1
WindowsFrame.Parent = MainFrame

-- Create windows
local function createWindow(name)
    local win = Instance.new("Frame")
    win.Size = UDim2.new(1,0,1,0)
    win.Position = UDim2.new(0,0,0,0)
    win.BackgroundTransparency = 1
    win.Visible = false
    win.Name = name
    win.Parent = WindowsFrame

    local layout = Instance.new("UIListLayout")
    layout.Padding = UDim.new(0,5)
    layout.FillDirection = Enum.FillDirection.Vertical
    layout.Parent = win

    return win
end

local GamesWindow = createWindow("Games")
local PlatformWindow = createWindow("Platform")
local SettingsWindow = createWindow("Settings")

-- Example buttons
local function createButton(parent, name)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1,0,0,40)
    btn.BackgroundColor3 = Color3.fromRGB(255,255,255)
    btn.BackgroundTransparency = 0.6
    btn.TextColor3 = Color3.fromRGB(50,50,50)
    btn.Text = name
    btn.Font = Enum.Font.Highway
    btn.TextSize = 20
    btn.Parent = parent
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0,10)
    corner.Parent = btn
    btn.MouseEnter:Connect(function() btn.BackgroundTransparency = 0.3 end)
    btn.MouseLeave:Connect(function() btn.BackgroundTransparency = 0.6 end)
end

-- Add sample buttons
createButton(GamesWindow, "Steal Object")
createButton(PlatformWindow, "Platform Toggle")
createButton(SettingsWindow, "Change GUI Color")

-- Tabs buttons
local tabIndex = 0
local function createTab(name, window)
    tabIndex = tabIndex + 1
    local tab = Instance.new("TextButton")
    tab.Size = UDim2.new(0, 120, 1, 0)
    tab.Position = UDim2.new(0, (tabIndex-1)*125, 0, 0)
    tab.BackgroundColor3 = Color3.fromRGB(255,255,255)
    tab.BackgroundTransparency = 0.6
    tab.TextColor3 = Color3.fromRGB(50,50,50)
    tab.Text = name
    tab.Font = Enum.Font.Highway
    tab.TextSize = 20
    tab.Parent = TabsFrame
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0,10)
    corner.Parent = tab

    tab.MouseButton1Click:Connect(function()
        for _, w in ipairs(WindowsFrame:GetChildren()) do
            if w:IsA("Frame") then w.Visible = false end
        end
        window.Visible = true
    end)

    tab.MouseEnter:Connect(function() tab.BackgroundTransparency = 0.3 end)
    tab.MouseLeave:Connect(function() tab.BackgroundTransparency = 0.6 end)
end

createTab("Games", GamesWindow)
createTab("Platform", PlatformWindow)
createTab("Settings", SettingsWindow)

-- Show default tab
GamesWindow.Visible = true

-- Small draggable 333 toggle square
local ToggleBtn = Instance.new("TextButton")
ToggleBtn.Size = UDim2.new(0, 50, 0, 50)
ToggleBtn.Position = UDim2.new(0, 20, 0.5, -25)
ToggleBtn.BackgroundColor3 = Color3.fromRGB(200, 100, 255)
ToggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleBtn.Text = "333"
ToggleBtn.Font = Enum.Font.Highway
ToggleBtn.TextSize = 18
ToggleBtn.ZIndex = 10
ToggleBtn.Parent = ScreenGui

local UICorner2 = Instance.new("UICorner")
UICorner2.CornerRadius = UDim.new(0, 8)
UICorner2.Parent = ToggleBtn

-- Smooth cross-platform drag
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local dragging = false
local dragInput, dragStart, startPos

local function update(input)
    local delta = input.Position - dragStart
    local targetPos = UDim2.new(
        0, startPos.X.Offset + delta.X,
        0, startPos.Y.Offset + delta.Y
    )
    -- Smooth movement using Lerp
    ToggleBtn.Position = ToggleBtn.Position:Lerp(targetPos, 0.2)
end

ToggleBtn.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = ToggleBtn.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

ToggleBtn.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        dragInput = input
    end
end)

RunService.RenderStepped:Connect(function()
    if dragging and dragInput then
        update(dragInput)
    end
end)

-- Toggle visibility of the main GUI
ToggleBtn.MouseButton1Click:Connect(function()
    MainFrame.Visible = not MainFrame.Visible
end)
